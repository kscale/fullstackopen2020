(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{16:function(e,n,t){e.exports=t(40)},39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(14),o=t.n(u),c=t(2),l=function(e){return r.a.createElement("form",{onSubmit:e.addPerson},r.a.createElement("div",null,"name:",r.a.createElement("input",{value:e.newName,onChange:e.handleNameChange})),r.a.createElement("div",null,"number:",r.a.createElement("input",{value:e.newNumber,onChange:e.handleNumberChange})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},i=function(e){return r.a.createElement("input",{value:e.value,onChange:e.onChange})},m=function(e){var n=e.persons,t=e.deletePerson;return n.map((function(e){return r.a.createElement("li",{key:e.id},e.name," ",e.number," ",r.a.createElement("button",{onClick:function(){return t(e.id)}},"delete"))}))},s=t(4),d=t.n(s),f=t(15),h=t(3),b=t.n(h),p={getAll:function(){var e=Object(f.a)(d.a.mark((function e(){var n,t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b.a.get("/api/persons"),e.next=3,n;case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),remove:function(e){var n="".concat("/api/persons","/").concat(e);return console.log(n),b.a.delete(n).then((function(e){return e.data}))},add:function(e){return b.a.post("/api/persons",e).then((function(e){return e.data}))}},v=(t(39),function(e){var n=e.notification;return null===n?null:r.a.createElement("div",{className:n.type},n.message)}),E=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],u=n[1],o=Object(a.useState)(""),s=Object(c.a)(o,2),d=s[0],f=s[1],h=Object(a.useState)(""),b=Object(c.a)(h,2),E=b[0],g=b[1],w=Object(a.useState)(""),j=Object(c.a)(w,2),C=j[0],O=j[1],N=Object(a.useState)(null),k=Object(c.a)(N,2),y=k[0],S=k[1];Object(a.useEffect)((function(){p.getAll().then((function(e){u(e)}))}),[]);var P=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";S({message:e,type:n}),setTimeout((function(){S(null)}),5e3)},x=0===C.length?t:t.filter((function(e){return e.name.toLowerCase().includes(C.toLowerCase())}));return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(v,{notification:y}),"filter shown with:",r.a.createElement(i,{value:C,onChange:function(e){O(e.target.value)}}),r.a.createElement("h3",null,"Add a new"),r.a.createElement(l,{handleNameChange:function(e){f(e.target.value)},handleNumberChange:function(e){g(e.target.value)},newNumber:E,newName:d,addPerson:function(e){if(e.preventDefault(),t.find((function(e){return e.name===d})))window.alert("".concat(d," is already added to phonebook"));else{var n={name:d,number:E};p.add(n).then((function(e){u(t.concat(n)),P("add ".concat(n.name)),f(""),g("")}))}}}),r.a.createElement("h3",null,"Numbers"),r.a.createElement(m,{persons:x,deletePerson:function(e){var n=t.find((function(n){return n.id===e}));window.confirm("Delete ".concat(n.name))&&p.remove(e).then((function(){u(t.filter((function(n){return n.id!==e}))),P("Deleted ".concat(n.name))})).catch((function(){u(t.filter((function(n){return n.id!==e}))),P("".concat(n.name," had already been removed"),"error")}))}}))};o.a.render(r.a.createElement(E,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.a67e9afb.chunk.js.map