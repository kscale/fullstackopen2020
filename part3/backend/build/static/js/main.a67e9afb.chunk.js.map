{"version":3,"sources":["components/PersonForm.js","components/Filter.js","components/Persons.js","services/services.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","props","onSubmit","addPerson","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","Filter","Persons","persons","deletePerson","map","p","key","id","name","number","onClick","getAll","a","request","axios","get","response","data","remove","url","console","log","delete","then","add","personObject","post","Notification","notification","className","message","App","useState","setPersons","setNewName","setNewNumber","filterString","setStringFilter","setNotification","useEffect","personService","notifyWith","setTimeout","personsToShow","length","filter","i","toLowerCase","includes","event","target","preventDefault","find","window","alert","concat","toDelete","confirm","catch","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a67e9afb.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n\r\n  return (\r\n    <form onSubmit={props.addPerson}>\r\n      <div>\r\n        name: \r\n        <input\r\n          value={props.newName}\r\n          onChange={props.handleNameChange}\r\n        />\r\n      </div>\r\n      <div>\r\n        number:\r\n        <input \r\n          value={props.newNumber}\r\n          onChange={props.handleNumberChange}          \r\n        />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n\r\n  return (\r\n    <input\r\n    value={props.value}\r\n    onChange={props.onChange}\r\n  />\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Persons=({persons,deletePerson})=>{\r\n    return(\r\n    persons.map(p=><li key={p.id}>{p.name} {p.number} <button onClick={() => deletePerson(p.id)}>delete</button></li>)\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\n\r\nconst baseUrl='/api/persons'\r\n\r\n const getAll = async () => {\r\n    const request = axios.get(baseUrl);\r\n    const response = await request;\r\n  return response.data;\r\n\r\n    }\r\n\r\n \r\nconst remove = (id) => {\r\n  const url = `${baseUrl}/${id}`\r\n  console.log(url)\r\n  const request = axios.delete(url);\r\n  return request.then(response=>response.data);\r\n\r\n}\r\n\r\nconst add=(personObject)=>{\r\n  const request=axios.post(baseUrl,personObject)\r\n  return request.then(response=>response.data)\r\n  \r\n}\r\n\r\n\r\nexport default {getAll,remove,add}","import React from 'react'\r\n\r\nconst Notification=({notification})=>{\r\n    if (notification === null) {\r\n        return null\r\n      }\r\n    \r\n      return (\r\n        <div className={notification.type}>\r\n          {notification.message}\r\n        </div>\r\n      )    \r\n}\r\nexport default Notification","import React, { useState ,useEffect} from 'react'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport personService from './services/services'\nimport './index.css'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filterString, setStringFilter ] = useState('')\n  const [ notification, setNotification ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then((data) => {\n        setPersons(data)\n      })\n\n  }, [])\n\n  const notifyWith = (message, type='success') => {\n    setNotification({ message, type })\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }  \n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }  \n\n  const handleFilterStringChange = (event) => {\n    setStringFilter(event.target.value)\n  } \n\n  const addPerson=(event)=>{\n    event.preventDefault()\n    const found=persons.find(i=>i.name===newName)\n    if(found){\n        window.alert( `${newName} is already added to phonebook`)\n    }\n   \n    else{  \n            const personObject=\n            {\n                name:newName,\n                number:newNumber\n             }\n     \n       personService\n       .add(personObject)\n      .then(response=>{\n        setPersons(persons.concat(personObject))\n        notifyWith(`add ${personObject.name}`)\n        setNewName('') \n        setNewNumber('')\n       })\n\n\n          }\n          }\n\n\n\n\nconst personsToShow = filterString.length === 0 ?\n  persons : \n  persons.filter(i=>i.name.toLowerCase().includes(filterString.toLowerCase()))\n\nconst deletePerson = (id) => {\n  const toDelete = persons.find(p => p.id === id)\n  const ok = window.confirm(`Delete ${toDelete.name}`)\n  if(ok){\n  personService\n  .remove(id)\n  .then(() => {\n    setPersons(persons.filter(p => p.id !== id));\n    notifyWith(`Deleted ${toDelete.name}`)\n  }).catch(()=>{\n    setPersons(persons.filter(p => p.id !== id))\n    notifyWith(`${toDelete.name} had already been removed`, 'error')\n  })\n}\n}\n\nreturn (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      filter shown with:<Filter  value={filterString} onChange={handleFilterStringChange} />\n\n      <h3>Add a new</h3>\n\n      <PersonForm \n       handleNameChange={handleNameChange}\n       handleNumberChange={handleNumberChange}\n       newNumber={newNumber}\n       newName={newName}\n       addPerson={addPerson}\n      />\n\n      <h3>Numbers</h3>\n      <Persons persons={personsToShow} deletePerson={deletePerson}/>\n    </div>\n  )\n}\n\nexport default App\n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App.js'\n\n\n\n\n\n\nReactDOM.render(\n  <App  />,\n  document.getElementById('root')\n)"],"sourceRoot":""}